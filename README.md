<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAKLEN - ASSISTENTE VIRTUAL</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom, #004aad, #0077ff);
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }
        .chat-container {
            width: 100%;
            max-width: 450px;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 95vh;
            margin: 20px;
        }
        .chat-header {
            background: #004aad;
            color: #fff;
            padding: 20px;
            text-align: center;
            font-weight: bold;
            font-size: 1.25rem;
            border-bottom: 3px solid #0059b3;
            border-radius: 20px 20px 0 0;
        }
        .chat-body {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f0f4f9;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .message {
            padding: 12px 18px;
            border-radius: 20px;
            max-width: 85%;
            line-height: 1.4;
            font-size: 1rem;
            animation: fadeIn 0.3s ease-in-out;
        }
        .user {
            background: #e6f3ff;
            align-self: flex-end;
            border-bottom-right-radius: 8px;
            color: #1a5276;
        }
        .bot {
            background: #f7f7f7;
            align-self: flex-start;
            border-bottom-left-radius: 8px;
            color: #555;
        }
        .typing {
            font-style: italic;
            color: #999;
            margin: 5px;
            align-self: flex-start;
        }
        .chat-footer {
            display: flex;
            padding: 15px;
            background: #eee;
            border-top: 1px solid #ddd;
        }
        .chat-footer input {
            flex: 1;
            padding: 12px 20px;
            border-radius: 25px;
            border: 1px solid #ccc;
            font-size: 1rem;
            transition: all 0.3s;
        }
        .chat-footer input:focus {
            outline: none;
            border-color: #0077ff;
            box-shadow: 0 0 5px rgba(0,119,255,0.3);
        }
        .chat-footer button {
            margin-left: 10px;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: #004aad;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }
        .chat-footer button:hover {
            background: #003a8d;
        }
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 10px 0;
        }
        .menu-buttons button {
            padding: 12px 18px;
            border: none;
            border-radius: 15px;
            background: #0077ff;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s, transform 0.2s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .menu-buttons button:hover {
            background: #0056cc;
            transform: translateY(-2px);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">ü§ñ MAKLEN - ASSISTENTE VIRTUAL</div>
        <div class="chat-body" id="chatBody"></div>
        <div class="chat-footer">
            <input type="text" id="userInput" placeholder="Digite sua resposta..." onkeydown="if(event.key==='Enter'){sendMessage()}">
            <button onclick="sendMessage()">Enviar</button>
        </div>
    </div>

    <script>
        let userName = null;
        let esperandoNome = true;
        let menuAtivo = false;
        let modoSimulacao = false;
        let esperandoSenha = false;
        let chatBody = document.getElementById("chatBody");
        let userInput = document.getElementById("userInput");

        const SENHA = "MK123***";

        const dicas = [
            "1Ô∏è‚É£ Ou√ßa o cliente com aten√ß√£o e n√£o o interrompa.",
            "2Ô∏è‚É£ Demonstre empatia e compreens√£o pela situa√ß√£o.",
            "3Ô∏è‚É£ Ofere√ßa solu√ß√µes vi√°veis e que se encaixem na realidade do cliente.",
            "4Ô∏è‚É£ Mantenha a calma, mesmo em situa√ß√µes dif√≠ceis, e seja profissional.",
            "5Ô∏è‚É£ Mostre os benef√≠cios de resolver a pend√™ncia, como a melhoria do cr√©dito."
        ];

        const respostas = {
            "desempregado": ["Entendo, e lamento por essa fase. Podemos montar algo simb√≥lico e parcelado.", "Sinto muito por sua situa√ß√£o. Podemos buscar uma proposta especial para esse momento."],
            "doente": ["Sinto muito, sei que n√£o √© f√°cil. Posso ajustar a menor condi√ß√£o poss√≠vel.", "Lamento muito por sua sa√∫de. Priorize-a. Assim que puder, voltamos a conversar."],
            "n√£o posso pagar": ["Eu entendo. Mas se definirmos algo hoje, voc√™ garante condi√ß√µes melhores.", "Entendo sua situa√ß√£o, mas a melhor forma de resolver √© encontrando um valor que caiba no seu or√ßamento agora."],
            "sem dinheiro": ["Temos parcelamentos leves que cabem em qualquer or√ßamento.", "Compreendo, mas temos op√ß√µes com parcelas bem pequenas para te ajudar."],
            "n√£o vou pagar": ["Respeito sua posi√ß√£o, mas posso verificar se h√° um desconto maior para voc√™.", "Entendo. Mas a d√≠vida pode crescer com juros. Vamos tentar encontrar uma solu√ß√£o agora para evitar problemas futuros."],
            "n√£o √© minha d√≠vida": ["Entendo. Podemos confirmar os dados para garantir que n√£o haja engano.", "Para garantir que a cobran√ßa √© devida, podemos conferir seus dados. Qual seu CPF?"],
            "vou processar": ["Compreendo sua frustra√ß√£o. O objetivo do meu contato √© evitar qualquer tipo de transtorno, buscando um acordo justo.", "N√£o precisa chegar a esse ponto. Estou aqui para te ajudar a resolver a situa√ß√£o de forma amig√°vel."],
            "o banco n√£o me ajuda": ["Estou aqui para ser a ponte entre voc√™ e o banco. Me diga qual a sua melhor proposta para que eu possa levar a eles.", "Sou seu ponto de contato para resolver isso. Juntos, vamos encontrar uma proposta vi√°vel."],
            "juros abusivos": ["Entendo sua preocupa√ß√£o com os juros. Por isso, temos condi√ß√µes especiais que podem reduzir significativamente esse valor.", "Voc√™ tem raz√£o. Por isso, as propostas de hoje j√° v√™m com um grande desconto nos juros."],
            "n√£o reconhe√ßo": ["Nesse caso, podemos abrir um protocolo de contesta√ß√£o. Para isso, preciso confirmar alguns dados com voc√™.", "Certo, √© importante investigar. O que voc√™ n√£o reconhece na cobran√ßa?"],
            "j√° negociei": ["√ìtimo! Pode me informar o n√∫mero do acordo para que eu possa verificar?", "Se j√° negociou, vamos localizar o acordo no sistema. Por favor, me passe a data ou o n√∫mero da negocia√ß√£o."],
            "me ligam toda hora": ["Pe√ßo desculpas pelo inc√¥modo. Posso agendar um hor√°rio mais conveniente para nosso pr√≥ximo contato?", "Entendo o transtorno. Para que isso n√£o aconte√ßa mais, vamos resolver essa pend√™ncia agora. O que acha?"],
            "preciso pensar": ["Claro, √© importante tomar essa decis√£o com calma. Mas saiba que a oferta de hoje pode n√£o ser a mesma amanh√£. Qual seria a sua maior d√∫vida?", "Entendo. Para te ajudar a pensar, posso te enviar a proposta por e-mail, e podemos agendar para falarmos novamente em um ou dois dias."],
            "n√£o tenho proposta": ["Entendo, mas para te ajudar a encontrar a melhor solu√ß√£o, preciso de um valor inicial. Quanto voc√™ poderia pagar hoje ou no pr√≥ximo m√™s?", "Para eu poder te ajudar, preciso de uma estimativa. Com quanto voc√™ poderia iniciar a negocia√ß√£o?"],
            "d√≠vida √© antiga": ["O fato da d√≠vida ser antiga significa que temos mais flexibilidade para negociar. Essa √© a oportunidade perfeita para voc√™ quitar com um grande desconto.", "Justamente por ser antiga, ela j√° teve juros. Por isso, as propostas de hoje s√£o as melhores para voc√™ se livrar dela de vez."],
            "n√£o tenho tempo": ["Entendo que sua rotina √© corrida. Podemos agendar essa liga√ß√£o para um hor√°rio que seja melhor para voc√™. Qual o melhor dia e hora?", "Para n√£o tomar seu tempo, vamos ser r√°pidos. Qual o valor que voc√™ consegue pagar para a gente j√° fechar o acordo?"],
            "quita√ß√£o": ["Claro, podemos negociar a quita√ß√£o. Qual valor voc√™ tem dispon√≠vel para pagar a d√≠vida √† vista?", "Para quita√ß√£o √† vista, conseguimos um desconto maior. Qual valor voc√™ consegue para a gente liquidar a d√≠vida?"],
            "parcelar": ["Podemos analisar a melhor op√ß√£o de parcelamento para voc√™. Qual valor de parcela caberia no seu bolso por m√™s?", "Temos planos de parcelamento flex√≠veis. Para te ajudar, preciso saber o valor que voc√™ consegue pagar por m√™s."],
            "vou pensar": ["Certo, √© uma decis√£o importante. Para te ajudar, posso enviar a proposta por e-mail ou WhatsApp para que voc√™ possa analisar com calma. Qual seu e-mail ou WhatsApp?", "O que te impede de fechar hoje? Se me disser, posso tentar te ajudar a resolver."],
            "valor alto": ["Eu entendo, o valor total da d√≠vida pode assustar. Mas justamente por isso, estamos oferecendo um grande desconto para que voc√™ possa pagar um valor que seja justo.", "O valor pode ser alto, mas as parcelas s√£o pequenas. Qual valor de parcela voc√™ consegue pagar?"],
            "j√° paguei": ["Ok, se voc√™ j√° pagou, pode me enviar o comprovante para que eu possa dar baixa no sistema? Se n√£o tiver, posso te ajudar a localizar o pagamento.", "Se a d√≠vida j√° foi paga, preciso do comprovante para dar baixa. Pode me enviar para que eu possa resolver?"],
            "nome sujo": ["Sei que ter o nome negativado √© dif√≠cil. A boa not√≠cia √© que com esse acordo voc√™ pode quitar sua d√≠vida e limpar seu nome em poucos dias!", "Esse acordo √© a sua chance de limpar seu nome e voltar a ter cr√©dito no mercado. Vamos fechar?"],
            "n√£o recebi boleto": ["Pe√ßo desculpas pelo transtorno. Posso te enviar a segunda via do boleto agora mesmo. Qual √© a melhor forma de envio: e-mail ou WhatsApp?", "Sem problemas, posso gerar um novo boleto e te enviar agora. Qual √© o melhor canal para voc√™ receber?"],
            "negocia√ß√£o anterior": ["Para te ajudar, posso verificar as condi√ß√µes da sua √∫ltima negocia√ß√£o e ver se consigo uma proposta ainda melhor para voc√™.", "Vamos consultar a √∫ltima negocia√ß√£o para ver se consigo liberar uma condi√ß√£o mais vantajosa para voc√™."],
            "n√£o confio": ["Compreendo, mas pode confiar. Estou ligando da empresa XYZ, com o objetivo de te ajudar a resolver essa situa√ß√£o de forma segura e transparente.", "Entendo sua desconfian√ßa. Estou te ligando do setor de cobran√ßa, e podemos confirmar os dados para sua seguran√ßa."],
            "piorou minha vida": ["Sinto muito que a situa√ß√£o tenha chegado a esse ponto. A melhor forma de reverter essa situa√ß√£o √© negociando. Estou aqui para te ajudar.", "Vamos resolver isso juntos. Minha fun√ß√£o √© te ajudar a sair dessa situa√ß√£o e n√£o deixar que a d√≠vida atrapalhe ainda mais sua vida."],
            "n√£o tenho garantia": ["A sua √∫nica garantia sou eu e a seriedade da nossa empresa. Se voc√™ aceitar a proposta, vou te enviar um documento oficial com todas as condi√ß√µes do acordo.", "A garantia √© a documenta√ß√£o. Assim que fecharmos o acordo, vou te enviar o documento com todos os detalhes. Pode confiar."],
            "crise": ["Entendo, estamos em um momento de crise. E √© por isso que estamos aqui para ajudar. N√£o queremos que essa d√≠vida se torne uma bola de neve. Vamos encontrar uma solu√ß√£o juntos.", "Em tempos de crise, a organiza√ß√£o financeira √© fundamental. Vamos negociar para que voc√™ n√£o tenha mais essa preocupa√ß√£o."],
            "fui enganado": ["Compreendo sua frustra√ß√£o. Podemos analisar o ocorrido e encontrar a melhor solu√ß√£o para voc√™. Meu objetivo √© resolver a pend√™ncia da melhor forma poss√≠vel.", "Lamento o que aconteceu. Podemos abrir um processo de investiga√ß√£o, mas para isso precisamos resolver a d√≠vida primeiro."],
            "estou trabalhando": ["Entendo que est√° ocupado(a). Qual o melhor hor√°rio para eu te ligar de volta? Posso te ligar em 1 ou 2 horas?", "Sei que o tempo √© corrido. Posso te ligar mais tarde? Por favor, me diga o melhor hor√°rio."],
            "liga√ß√£o caiu": ["Estou ligando de volta pois a nossa liga√ß√£o caiu. Podemos continuar? Onde est√°vamos na conversa?", "Ol√°, a liga√ß√£o caiu. Vamos retomar. Qual foi o √∫ltimo valor que voc√™ conseguiu visualizar?"],
            "n√£o aguento mais": ["Eu entendo sua exaust√£o. Mas saiba que este √© o √∫ltimo passo para voc√™ se livrar dessa preocupa√ß√£o. Vamos fechar o acordo agora?", "√â compreens√≠vel que esteja cansado. A boa not√≠cia √© que podemos resolver isso em poucos minutos e voc√™ n√£o ter√° mais essa dor de cabe√ßa."],
            "me ligue depois": ["Claro, posso te ligar depois. Qual o melhor hor√°rio e dia? Posso te ligar no final da tarde ou amanh√£ pela manh√£?", "Sem problemas. Qual o melhor hor√°rio para voc√™? Posso te ligar em uma ou duas horas?"],
            "n√£o tenho proposta": ["Para te ajudar, preciso de um valor inicial. Quanto voc√™ poderia pagar hoje?", "Me diga o valor que voc√™ pode pagar por m√™s, e eu busco a melhor proposta para voc√™."],
            "procon": ["Compreendo sua frustra√ß√£o. N√£o precisa chegar a esse ponto. O objetivo √© resolver o problema de forma amig√°vel.", "Nossa meta √© resolver isso sem burocracia. Vamos fechar um acordo para que voc√™ n√£o precise acionar o Procon."],
            "amea√ßa": ["Entendo que se sinta amea√ßado(a), mas nossa inten√ß√£o √© apenas te ajudar a resolver essa pend√™ncia. Acredite, estamos aqui para somar e n√£o para atrapalhar.", "Sinto muito se a abordagem foi inadequada. N√£o √© nossa inten√ß√£o amea√ßar. Vamos resolver a situa√ß√£o de forma amig√°vel."],
            "sal√°rio atrasado": ["Entendo que essa situa√ß√£o com seu sal√°rio seja complicada. Mas podemos negociar com base no valor que voc√™ tem dispon√≠vel hoje, n√£o no valor total da d√≠vida.", "Sei que √© uma situa√ß√£o dif√≠cil. Podemos fechar um acordo que se encaixe no seu or√ßamento, mesmo com o sal√°rio atrasado."],
            "n√£o me lembro": ["Entendo. Para te ajudar a lembrar, podemos repassar os detalhes da d√≠vida. Voc√™ gostaria de verificar a data de compra ou os valores?", "Sem problemas. Posso te passar as informa√ß√µes da d√≠vida para que voc√™ possa conferir no seu sistema. Qual o seu CPF?"],
            "telefone errado": ["Me desculpe, por favor. Pode me informar o n√∫mero correto para que eu possa atualizar em nosso sistema?", "Agrade√ßo por me informar. Vou atualizar nosso cadastro para que voc√™ n√£o receba mais liga√ß√µes."],
            "fui bloqueado": ["Compreendo sua frustra√ß√£o. Vamos resolver a situa√ß√£o agora para que seu acesso seja desbloqueado.", "√â compreens√≠vel. Mas a melhor forma de ter o acesso liberado √© regularizando a pend√™ncia."],
            "morte na fam√≠lia": ["Sinto muito pela sua perda. O luto √© uma fase muito dif√≠cil, e respeitamos isso. Posso te ligar em alguns dias?", "Meus p√™sames. Sinto muito. Vamos conversar mais tarde, em um momento mais oportuno para voc√™."],
            "n√£o sabia": ["Entendo. Por isso estou ligando, para te informar sobre a pend√™ncia e te ajudar a resolver. As informa√ß√µes est√£o corretas?", "N√£o sabia? Agrade√ßo por me informar. Vou verificar e te ligar mais tarde."],
            "gasto n√£o autorizado": ["Compreendo. Vamos abrir um protocolo de investiga√ß√£o. Mas para que o valor n√£o acumule, vamos encontrar uma forma de negociar a d√≠vida para que a pend√™ncia n√£o cres√ßa ainda mais."],
            "j√° √© judicial": ["Entendo. A pend√™ncia j√° est√° em fase judicial. Mas, se houver interesse, ainda podemos negociar e fechar um acordo.", "Sei que a d√≠vida est√° em fase judicial. Mas podemos tentar encontrar uma proposta para resolver de forma amig√°vel."],
            "idoso": ["Entendo. Para garantir a seguran√ßa dos seus dados, posso conversar com um respons√°vel? Ou prefere que eu ligue mais tarde?", "Compreendo. Voc√™ se sentiria mais seguro se eu pudesse conversar com seu filho ou respons√°vel? Qual o melhor hor√°rio para eu ligar?"],
            "adolescente": ["Seus pais est√£o em casa? Posso falar com eles?", "Entendo que voc√™ √© menor de idade. Vou tentar falar com o respons√°vel pela d√≠vida."],
            "piorou minha vida": ["Sinto muito que a situa√ß√£o tenha chegado a esse ponto. A melhor forma de reverter essa situa√ß√£o √© negociando. Estou aqui para te ajudar."],
            "n√£o tenho garantia": ["A sua √∫nica garantia sou eu e a seriedade da nossa empresa. Se voc√™ aceitar a proposta, vou te enviar um documento oficial com todas as condi√ß√µes do acordo."],
            "crise": ["Entendo, estamos em um momento de crise. E √© por isso que estamos aqui para ajudar. N√£o queremos que essa d√≠vida se torne uma bola de neve. Vamos encontrar uma solu√ß√£o juntos."],
            "fui enganado": ["Compreendo sua frustra√ß√£o. Podemos analisar o ocorrido e encontrar a melhor solu√ß√£o para voc√™. Meu objetivo √© resolver a pend√™ncia da melhor forma poss√≠vel."],
        };

        function sendMessage(text = null) {
            const message = text || userInput.value.trim();
            if (message === "") return;

            addMessage(message, "user");
            userInput.value = "";

            if (message.toLowerCase() === "sair" || message.toLowerCase() === "voltar ao menu" || message.toLowerCase() === "voltar" || message.toLowerCase() === "iniciar") {
                resetState();
                return;
            }

            if (esperandoNome) {
                userName = message;
                esperandoNome = false;
                setTimeout(() => {
                    addMessage(`Seja bem-vindo(a), ${userName}! üëã`, "bot");
                    mostrarMenu();
                }, 800);
                return;
            }
            
            // Nova l√≥gica para a op√ß√£o oculta
            if (message.toLowerCase() === "palavras-chaves" && !esperandoSenha) {
                iniciarAcessoBloqueado();
                return;
            }

            if (esperandoSenha) {
                if (message === SENHA) {
                    addMessage("‚úÖ Senha correta. Acesso liberado para as palavras-chave.", "bot");
                    mostrarPalavrasChave();
                } else {
                    addMessage("‚ùå Senha incorreta. Tente novamente ou digite 'sair' para voltar ao menu.", "bot");
                }
                esperandoSenha = false;
                return;
            }

            if (menuAtivo) {
                const choice = message.toLowerCase();
                if (choice.includes("1") || choice.includes("treinamento")) {
                    iniciarTreinamento();
                } else if (choice.includes("2") || choice.includes("simula√ß√£o")) {
                    iniciarSimulacao();
                } else if (choice.includes("4") || choice.includes("voltar ao inicio")) {
                    resetState();
                } else {
                    addMessage("Op√ß√£o inv√°lida. Por favor, clique em um bot√£o ou digite o n√∫mero da op√ß√£o desejada.", "bot");
                }
                return;
            }

            if (modoSimulacao) {
                processarSimulacao(message);
            }
        }

        function resetState() {
            userName = null;
            esperandoNome = true;
            menuAtivo = false;
            modoSimulacao = false;
            esperandoSenha = false;
            chatBody.innerHTML = "";
            addMessage("Ol√°! Sou a Maklen, sua assistente virtual. ü§ñ", "bot");
            setTimeout(() => {
                addMessage("Antes de come√ßarmos, como voc√™ se chama?", "bot");
            }, 800);
        }

        function iniciarTreinamento() {
            menuAtivo = false;
            addMessage("üìò Treinamento selecionado! Aqui est√£o algumas dicas para voc√™:", "bot");
            dicas.forEach((dica, index) => {
                setTimeout(() => addMessage(dica, "bot"), 500 * (index + 1));
            });
            setTimeout(() => mostrarMenu(), 500 * (dicas.length + 1));
        }

        function iniciarSimulacao() {
            modoSimulacao = true;
            menuAtivo = false;
            addMessage("üé≠ Simula√ß√£o iniciada! Agora eu sou o cliente. Digite sua resposta e eu vou reagir. Para voltar ao menu principal, digite 'sair' a qualquer momento.", "bot");
            setTimeout(() => {
                addMessage("Ol√°, estou ligando sobre uma pend√™ncia. Mas n√£o tenho como pagar agora. O que podemos fazer?", "bot");
            }, 1000);
        }

        function iniciarAcessoBloqueado() {
            menuAtivo = false;
            esperandoSenha = true;
            addMessage("üîí Para acessar as palavras-chave, digite a senha e pressione Enter. Para voltar ao menu, digite 'sair'.", "bot");
        }

        function mostrarPalavrasChave() {
            addMessage("--- Lista de Palavras-Chave e Respostas ---", "bot");
            let sortedKeys = Object.keys(respostas).sort();
            sortedKeys.forEach(chave => {
                addMessage(`**"${chave}"** -> ${respostas[chave].join(" | ")}`, "bot");
            });
            addMessage("--- Fim da lista. Para voltar ao menu, digite 'sair'. ---", "bot");
        }

        function processarSimulacao(text) {
            showTyping();
            const lowerText = text.toLowerCase();
            let respostaEncontrada = null;
            let melhorCorrespondencia = 0;

            for (const chave in respostas) {
                if (lowerText.includes(chave)) {
                    respostaEncontrada = respostas[chave];
                    break;
                }
            }

            if (respostaEncontrada) {
                const opcoes = respostaEncontrada;
                const respostaAleatoria = opcoes[Math.floor(Math.random() * opcoes.length)];
                setTimeout(() => {
                    removeTyping();
                    addMessage(respostaAleatoria, "bot");
                }, 1000);
            } else {
                setTimeout(() => {
                    removeTyping();
                    addMessage("Entendi. Poderia me explicar melhor sua situa√ß√£o para que eu possa te ajudar?", "bot");
                }, 1000);
            }
        }

        function addMessage(text, sender) {
            const message = document.createElement("div");
            message.classList.add("message", sender);
            message.innerHTML = text;
            chatBody.appendChild(message);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        function showTyping() {
            let typing = document.getElementById("typing");
            if (!typing) {
                typing = document.createElement("div");
                typing.id = "typing";
                typing.classList.add("typing");
                typing.textContent = "Digitando...";
                chatBody.appendChild(typing);
                chatBody.scrollTop = chatBody.scrollHeight;
            }
        }

        function removeTyping() {
            const typing = document.getElementById("typing");
            if (typing) typing.remove();
        }

        function mostrarMenu() {
            const existingMenu = document.querySelector('.menu-buttons');
            if (existingMenu) {
                existingMenu.remove();
            }

            const menuDiv = document.createElement("div");
            menuDiv.classList.add("menu-buttons");

            const btn1 = document.createElement("button");
            btn1.textContent = "1Ô∏è‚É£ Treinamento";
            btn1.onclick = () => sendMessage("1");

            const btn2 = document.createElement("button");
            btn2.textContent = "2Ô∏è‚É£ Simula√ß√£o";
            btn2.onclick = () => sendMessage("2");

            const btn4 = document.createElement("button");
            btn4.textContent = "4Ô∏è‚É£ Voltar ao In√≠cio";
            btn4.onclick = () => sendMessage("4");

            menuDiv.appendChild(btn1);
            menuDiv.appendChild(btn2);
            menuDiv.appendChild(btn4);
            chatBody.appendChild(menuDiv);
            chatBody.scrollTop = chatBody.scrollHeight;

            menuAtivo = true;
        }

        window.onload = () => {
            addMessage("Ol√°! Sou a Maklen, sua assistente virtual. ü§ñ", "bot");
            setTimeout(() => {
                addMessage("Antes de come√ßarmos, como voc√™ se chama?", "bot");
            }, 800);
        };
    </script>
</body>
</html>
